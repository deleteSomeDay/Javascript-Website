{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\dev\\\\TutorFinal\\\\web\\\\components\\\\UserData.js\";\nimport React from 'react';\nimport fetch from 'isomorphic-fetch';\n\nvar UserData =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(UserData, _React$Component);\n\n  _createClass(UserData, null, [{\n    key: \"getInitialProps\",\n    value: function () {\n      var _getInitialProps = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                fetch('/api/send-user', {\n                  method: 'POST',\n                  body: this.state.user.id,\n                  headers: {\n                    'Content-Type': 'application/json'\n                  }\n                }).then(fetch('/api/get-user').then(function (response) {\n                  if (response.status >= 400) {\n                    throw new Error(\"Bad response from server\");\n                  }\n\n                  return response.json();\n                }).then(function (userData) {\n                  return userData;\n                }));\n                return _context.abrupt(\"return\", userData);\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function getInitialProps() {\n        return _getInitialProps.apply(this, arguments);\n      }\n\n      return getInitialProps;\n    }()\n  }]);\n\n  function UserData(props) {\n    var _this;\n\n    _classCallCheck(this, UserData);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(UserData).call(this, props));\n    _this.state = {\n      user: props.userData\n    };\n    return _this;\n  }\n\n  _createClass(UserData, [{\n    key: \"render\",\n    value: function render() {\n      React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }, this.state.user);\n    }\n  }]);\n\n  return UserData;\n}(React.Component);\n\nexport default UserData;","map":{"version":3,"sources":["D:\\dev\\TutorFinal\\web\\components\\UserData.js"],"names":["React","fetch","UserData","method","body","state","user","id","headers","then","response","status","Error","json","userData","props","Component"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,kBAAlB;;IAEMC,Q;;;;;;;;;;;;;;;AAIED,gBAAAA,KAAK,CAAC,gBAAD,EACL;AACIE,kBAAAA,MAAM,EAAE,MADZ;AAEIC,kBAAAA,IAAI,EAAE,KAAKC,KAAL,CAAWC,IAAX,CAAgBC,EAF1B;AAGIC,kBAAAA,OAAO,EAAE;AAAC,oCAAgB;AAAjB;AAHb,iBADK,CAAL,CAOCC,IAPD,CAQIR,KAAK,CAAC,eAAD,CAAL,CACCQ,IADD,CACM,UAACC,QAAD,EAAc;AAChB,sBAAIA,QAAQ,CAACC,MAAT,IAAmB,GAAvB,EAA4B;AACxB,0BAAM,IAAIC,KAAJ,CAAU,0BAAV,CAAN;AACH;;AACD,yBAAOF,QAAQ,CAACG,IAAT,EAAP;AACH,iBAND,EAOCJ,IAPD,CAOM,UAACK,QAAD,EACN;AACI,yBAAOA,QAAP;AACH,iBAVD,CARJ;iDAoBMA,Q;;;;;;;;;;;;;;;;;;AAGV,oBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,kFAAMA,KAAN;AACA,UAAKV,KAAL,GAAa;AACXC,MAAAA,IAAI,EAAES,KAAK,CAACD;AADD,KAAb;AAFe;AAKhB;;;;6BAEM;AACL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAK,KAAKT,KAAL,CAAWC,IAAhB;AACH;;;;EApCkBN,KAAK,CAACgB,S;;AAwC7B,eAAed,QAAf","sourcesContent":["import React from 'react'\r\nimport fetch from 'isomorphic-fetch'\r\n\r\nclass UserData extends React.Component \r\n{\r\n    static async getInitialProps()\r\n    {\r\n        fetch('/api/send-user', \r\n        {\r\n            method: 'POST',\r\n            body: this.state.user.id,\r\n            headers: {'Content-Type': 'application/json'}\r\n            \r\n        })\r\n        .then(\r\n            fetch('/api/get-user')\r\n            .then((response) => {\r\n                if (response.status >= 400) {\r\n                    throw new Error(\"Bad response from server\");\r\n                }\r\n                return response.json()\r\n            })\r\n            .then((userData) =>\r\n            {\r\n                return userData\r\n            })\r\n        )\r\n       return userData\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n          user: props.userData\r\n        };\r\n      }\r\n\r\n    render() {\r\n        <h2>{this.state.user}</h2>\r\n    }\r\n}\r\n\r\n\r\nexport default UserData;\r\n"]},"metadata":{},"sourceType":"module"}